<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPFS Image Optimization Examples</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }

    .example-section {
      margin: 30px 0;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }

    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .image-example {
      text-align: center;
      padding: 10px;
      border: 1px solid #eee;
      border-radius: 4px;
    }

    .image-example img {
      max-width: 100%;
      height: auto;
      border-radius: 4px;
    }

    .image-example h4 {
      margin: 10px 0 5px 0;
      color: #333;
    }

    .image-example p {
      font-size: 12px;
      color: #666;
      margin: 5px 0;
    }

    code {
      background: #f4f4f4;
      padding: 2px 4px;
      border-radius: 3px;
      font-size: 12px;
    }

    .url-example {
      background: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
      font-family: monospace;
      font-size: 12px;
      word-break: break-all;
    }
  </style>
</head>

<body>
  <h1>IPFS Image Optimization Examples</h1>
  <p>This page demonstrates various image optimization features available through the IPFS reverse proxy.</p>

  <div class="example-section">
    <h2>Basic Resizing</h2>
    <p>Resize images to specific dimensions while maintaining aspect ratio.</p>

    <div class="image-grid">
      <div class="image-example">
        <h4>Original</h4>
        <img src="https://ipfs.wallacemuseum.com/QmYourImageHash" alt="Original image">
        <p>Original size</p>
        <div class="url-example">
          /QmYourImageHash
        </div>
      </div>

      <div class="image-example">
        <h4>Width: 300px</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300" alt="Resized to 300px width">
        <p>Resized to 300px width, height auto</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300
        </div>
      </div>

      <div class="image-example">
        <h4>200x200 (contain)</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=200&height=200&fit=contain"
          alt="200x200 contain">
        <p>200x200 with <code>fit=contain</code></p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=200&height=200&fit=contain
        </div>
      </div>

      <div class="image-example">
        <h4>200x200 (cover)</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=200&height=200&fit=cover"
          alt="200x200 cover">
        <p>200x200 with <code>fit=cover</code></p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=200&height=200&fit=cover
        </div>
      </div>
    </div>
  </div>

  <div class="example-section">
    <h2>Format Optimization</h2>
    <p>Convert images to modern formats for better compression and performance.</p>

    <div class="image-grid">
      <div class="image-example">
        <h4>WebP Format</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&format=webp"
          alt="WebP format">
        <p>Converted to WebP for better compression</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300&format=webp
        </div>
      </div>

      <div class="image-example">
        <h4>AVIF Format</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&format=avif"
          alt="AVIF format">
        <p>Converted to AVIF for maximum compression</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300&format=avif
        </div>
      </div>
    </div>
  </div>

  <div class="example-section">
    <h2>Quality Control</h2>
    <p>Adjust image quality to balance file size and visual quality.</p>

    <div class="image-grid">
      <div class="image-example">
        <h4>High Quality (90)</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&quality=90"
          alt="High quality">
        <p>Quality: 90 (larger file, better quality)</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300&quality=90
        </div>
      </div>

      <div class="image-example">
        <h4>Medium Quality (60)</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&quality=60"
          alt="Medium quality">
        <p>Quality: 60 (balanced)</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300&quality=60
        </div>
      </div>

      <div class="image-example">
        <h4>Low Quality (30)</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&quality=30" alt="Low quality">
        <p>Quality: 30 (smaller file, lower quality)</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300&quality=30
        </div>
      </div>
    </div>
  </div>

  <div class="example-section">
    <h2>Advanced Features</h2>
    <p>Additional optimization features for specific use cases.</p>

    <div class="image-grid">
      <div class="image-example">
        <h4>High DPR (Retina)</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=150&dpr=2" alt="High DPR">
        <p>150px width with 2x DPR for retina displays</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=150&dpr=2
        </div>
      </div>

      <div class="image-example">
        <h4>Sharpened</h4>
        <img src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&sharpen=2" alt="Sharpened">
        <p>Sharpening filter applied (strength: 2)</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=300&sharpen=2
        </div>
      </div>

      <div class="image-example">
        <h4>Gravity: Auto</h4>
        <img
          src="https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=200&height=200&fit=cover&gravity=auto"
          alt="Auto gravity">
        <p>Smart cropping with auto gravity</p>
        <div class="url-example">
          /api/image?hash=QmYourImageHash&width=200&height=200&fit=cover&gravity=auto
        </div>
      </div>
    </div>
  </div>

  <div class="example-section">
    <h2>URL Patterns</h2>
    <p>Different ways to access optimized images:</p>

    <h3>Direct API Endpoint</h3>
    <div class="url-example">
      https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=500&format=webp
    </div>

    <h3>Convenient Route</h3>
    <div class="url-example">
      https://ipfs.wallacemuseum.com/image/QmYourImageHash?width=500&format=webp
    </div>

    <h3>Traditional Proxy with Optimization</h3>
    <div class="url-example">
      https://ipfs.wallacemuseum.com/QmYourImageHash?width=500&format=webp
    </div>
  </div>

  <div class="example-section">
    <h2>JavaScript Usage</h2>
    <p>Examples of using image optimization in JavaScript:</p>

    <pre><code>// Basic resizing
const imageUrl = 'https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=500';

// Responsive images with different sizes
const sizes = [300, 600, 900];
const srcset = sizes.map(size => 
  `https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=${size}&format=webp ${size}w`
).join(', ');

// Create responsive image element
const img = document.createElement('img');
img.src = 'https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=600&format=webp';
img.srcset = srcset;
img.sizes = '(max-width: 600px) 300px, (max-width: 900px) 600px, 900px';

// High DPR support
const dpr = window.devicePixelRatio || 1;
const optimizedUrl = `https://ipfs.wallacemuseum.com/api/image?hash=QmYourImageHash&width=300&dpr=${dpr}&format=webp`;
</code></pre>
  </div>

  <script>
    // Replace placeholder hashes with actual IPFS hashes if available
    // This is just for demonstration - replace QmYourImageHash with real hashes
    console.log('Image optimization examples loaded');
    console.log('Replace QmYourImageHash with actual IPFS image hashes to see the optimization in action');
  </script>
</body>

</html>